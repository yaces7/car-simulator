<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Multiplayer Araba SÃ¼rme Oyunu</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Ana MenÃ¼ -->
    <div id="mainMenu" class="menu-screen active">
        <div class="menu-container">
            <h1 class="game-title">ğŸï¸ RACING WORLD</h1>
            <div class="menu-buttons">
                <button class="menu-btn" onclick="showScreen('singlePlayer')">ğŸ® Tek Oyunculu</button>
                <button class="menu-btn" onclick="showScreen('multiplayer')">ğŸ‘¥ Ã‡ok Oyunculu</button>
                <button class="menu-btn" onclick="showScreen('garage')">ğŸš— Garaj</button>
                <button class="menu-btn" onclick="showScreen('stats')">ğŸ“Š Ä°statistikler</button>
                <button class="menu-btn" onclick="showScreen('settings')">âš™ï¸ Ayarlar</button>
            </div>
        </div>
    </div>

    <!-- Multiplayer GiriÅŸ -->
    <div id="multiplayer" class="menu-screen">
        <div class="menu-container">
            <h2>Ã‡ok Oyunculu Mod</h2>
            <input type="text" id="playerName" placeholder="Ä°sminizi girin" maxlength="20" value="Oyuncu">
            <input type="text" id="serverUrl" placeholder="Sunucu URL" value="ws://localhost:8080">
            <button class="menu-btn" onclick="startMultiplayer()">ğŸš€ Lobiye KatÄ±l</button>
            <button class="menu-btn secondary" onclick="showScreen('mainMenu')">â¬…ï¸ Geri</button>
        </div>
    </div>

    <!-- Tek Oyunculu -->
    <div id="singlePlayer" class="menu-screen">
        <div class="menu-container">
            <h2>Tek Oyunculu Mod</h2>
            <button class="menu-btn" onclick="startSinglePlayer('free')">ğŸš— Serbest SÃ¼rÃ¼ÅŸ</button>
            <button class="menu-btn" onclick="startSinglePlayer('circuit')">ğŸ YarÄ±ÅŸ - Pist</button>
            <button class="menu-btn" onclick="startSinglePlayer('sprint')">âš¡ YarÄ±ÅŸ - Sprint</button>
            <button class="menu-btn secondary" onclick="showScreen('mainMenu')">â¬…ï¸ Geri</button>
        </div>
    </div>

    <!-- Garaj - Modern TasarÄ±m -->
    <div id="garage" class="menu-screen garage-screen">
        <!-- Sol Panel - AraÃ§ Bilgileri -->
        <div class="garage-left-panel">
            <button class="back-to-menu-btn" onclick="showScreen('mainMenu')">
                <span>â¬…ï¸</span> Ana MenÃ¼
            </button>
            
            <div class="garage-title">
                <h1>ğŸš— GARAJ</h1>
                <div class="garage-money-display">ğŸ’° <span id="garageMoney">1000</span></div>
            </div>
            
            <div class="car-info-panel" id="carInfoPanel">
                <h2 id="carNameDisplay">Sedan</h2>
                <div class="car-price-tag" id="carPriceTag">Sahip</div>
                
                <div class="car-stats-bars" id="carStats">
                    <!-- JS ile doldurulacak -->
                </div>
            </div>
            
            <div class="garage-actions">
                <button class="garage-action-btn buy-btn" id="buyCarBtn" onclick="buyCar()" style="display:none;">
                    ğŸ›’ SATIN AL
                </button>
                <button class="garage-action-btn select-btn" id="selectCarBtn" onclick="confirmCarSelection()">
                    âœ… SEÃ‡
                </button>
                <button class="garage-action-btn tuning-btn" onclick="openTuning()">
                    ğŸ”§ TUNÄ°NG
                </button>
            </div>
        </div>
        
        <!-- SaÄŸ Panel - 3D Ã–nizleme -->
        <div class="garage-right-panel">
            <div id="carPreview" class="car-preview-3d"></div>
            
            <!-- Ok ButonlarÄ± -->
            <button class="car-nav-arrow left-arrow" onclick="prevCar()">
                <span>â®</span>
            </button>
            <button class="car-nav-arrow right-arrow" onclick="nextCar()">
                <span>â¯</span>
            </button>
            
            <!-- AraÃ§ Ä°ndikatÃ¶rÃ¼ -->
            <div class="car-indicator" id="carIndicator">
                <span class="indicator-dot active"></span>
                <span class="indicator-dot"></span>
                <span class="indicator-dot"></span>
                <span class="indicator-dot"></span>
                <span class="indicator-dot"></span>
                <span class="indicator-dot"></span>
                <span class="indicator-dot"></span>
            </div>
        </div>
    </div>

    <!-- Ä°statistikler -->
    <div id="stats" class="menu-screen">
        <div class="menu-container">
            <h2>ğŸ“Š Ä°statistikler</h2>
            <div class="stats-grid" id="statsGrid">
                <div class="stat-item">
                    <span class="stat-icon">ğŸ’°</span>
                    <span class="stat-label">Toplam Para</span>
                    <span class="stat-value" id="statMoney">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">â­</span>
                    <span class="stat-label">Toplam Skor</span>
                    <span class="stat-value" id="statScore">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸï¸</span>
                    <span class="stat-label">En YÃ¼ksek HÄ±z</span>
                    <span class="stat-value" id="statTopSpeed">0 km/h</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ›£ï¸</span>
                    <span class="stat-label">Toplam Mesafe</span>
                    <span class="stat-value" id="statDistance">0 km</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ¯</span>
                    <span class="stat-label">Drift PuanÄ±</span>
                    <span class="stat-value" id="statDrift">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">ğŸ†</span>
                    <span class="stat-label">BaÅŸarÄ±mlar</span>
                    <span class="stat-value" id="statAchievements">0/8</span>
                </div>
            </div>
            <button class="menu-btn secondary" onclick="showScreen('mainMenu')">â¬…ï¸ Geri</button>
        </div>
    </div>

    <!-- Ayarlar -->
    <div id="settings" class="menu-screen">
        <div class="menu-container">
            <h2>Ayarlar</h2>
            <div class="settings-group">
                <label>ğŸ® Kontrol Modu:</label>
                <select id="controlModeSelect" onchange="setControlMode(this.value)">
                    <option value="auto">Otomatik</option>
                    <option value="mobile">ğŸ“± Mobil (Dokunmatik)</option>
                    <option value="desktop">ğŸ–¥ï¸ MasaÃ¼stÃ¼ (Klavye)</option>
                </select>
            </div>
            <div class="settings-group">
                <label>Grafik Kalitesi:</label>
                <select id="graphicsQuality" onchange="updateSettings()">
                    <option value="low">DÃ¼ÅŸÃ¼k</option>
                    <option value="medium" selected>Orta</option>
                    <option value="high">YÃ¼ksek</option>
                </select>
            </div>
            <div class="settings-group">
                <label>GÃ¶lgeler:</label>
                <input type="checkbox" id="shadowsEnabled" checked onchange="updateSettings()">
            </div>
            <div class="settings-group">
                <label>Ã‡Ã¶zÃ¼nÃ¼rlÃ¼k Ã–lÃ§eÄŸi:</label>
                <input type="range" id="resolutionScale" min="0.5" max="1.5" step="0.1" value="1" onchange="updateSettings()">
                <span id="resScaleValue">100%</span>
            </div>
            <div class="settings-group">
                <label>Ses Seviyesi:</label>
                <input type="range" id="volume" min="0" max="100" value="70">
            </div>
            <button class="menu-btn secondary" onclick="showScreen('mainMenu')">â¬…ï¸ Geri</button>
        </div>
    </div>

    <!-- Oyun EkranÄ± -->
    <div id="gameScreen" class="game-screen">
        <canvas id="gameCanvas"></canvas>
        
        <!-- HUD -->
        <div id="hud" class="hud">
            <div class="speedometer">
                <div class="speed-value" id="speedValue">0</div>
                <div class="speed-unit">KM/H</div>
            </div>
            
            <div class="nitro-bar">
                <div class="nitro-label">NITRO</div>
                <div class="nitro-fill" id="nitroFill"></div>
            </div>
            
            <div class="minimap" id="minimap">
                <canvas id="minimapCanvas" width="200" height="200"></canvas>
            </div>
            
            <div class="player-list" id="playerList">
                <h3>Oyuncular</h3>
                <div id="playerListContent"></div>
            </div>
            
            <div class="weather-info" id="weatherInfo">â˜€ï¸ GÃ¼neÅŸli</div>
            <div class="time-info" id="timeInfo">12:00</div>
            
            <!-- YarÄ±ÅŸ Bilgisi -->
            <div class="race-info" id="raceInfo" style="display:none;">
                <div class="race-time">â±ï¸ <span id="raceTime">0:00.00</span></div>
                <div class="race-checkpoint">ğŸ <span id="raceCheckpoint">0/0</span></div>
                <div class="race-best">ğŸ† En Ä°yi: <span id="raceBest">--:--</span></div>
            </div>
            
            <!-- Kontak ve Far DÃ¼ÄŸmeleri -->
            <button class="headlight-btn" id="headlightBtn" onclick="toggleHeadlights()">
                ğŸ’¡
                <small>FAR</small>
            </button>
            <button class="ignition-btn" id="ignitionBtn" onclick="toggleIgnition()">
                <span class="ignition-icon">ğŸ”‘</span>
                <span class="ignition-text">KONTAK</span>
            </button>
            
            <button class="pause-btn" onclick="pauseGame()">â¸ï¸</button>
            <button class="horn-btn" onclick="playHorn()">ğŸ“¯</button>
            <button class="weather-btn" onclick="cycleWeather()">ğŸŒ¤ï¸</button>
            <button class="help-btn" onclick="toggleHelp()">â“</button>
            
            <!-- YardÄ±m Paneli -->
            <div class="help-panel" id="helpPanel" style="display:none;">
                <h3>ğŸ® Kontroller</h3>
                <div class="help-row"><span>W / â†‘</span> Ä°leri</div>
                <div class="help-row"><span>S / â†“</span> Geri</div>
                <div class="help-row"><span>A / â†</span> Sol</div>
                <div class="help-row"><span>D / â†’</span> SaÄŸ</div>
                <div class="help-row"><span>Space</span> Fren</div>
                <div class="help-row"><span>Shift</span> Nitro</div>
                <div class="help-row"><span>H</span> Korna</div>
                <div class="help-row"><span>L</span> Farlar AÃ§/Kapa</div>
                <div class="help-row"><span>E</span> YakÄ±t Al (Ä°stasyonda)</div>
                <div class="help-row"><span>P</span> Duraklat</div>
                <div class="help-row"><span>C</span> Kamera SÄ±fÄ±rla</div>
                <div class="help-row"><span>M</span> Ses AÃ§/Kapa</div>
                <div class="help-row"><span>SaÄŸ TÄ±k</span> Kamera DÃ¶ndÃ¼r</div>
            </div>
        </div>
        
        <!-- Mobil Kontroller -->
        <div id="mobileControls" class="mobile-controls">
            <div class="joystick-container left-joystick">
                <div class="joystick-base">
                    <div class="joystick-stick" id="leftStick"></div>
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="action-btn brake-btn" id="brakeBtn">
                    <span>ğŸ…±ï¸</span>
                    <small>Fren</small>
                </button>
                <button class="action-btn nitro-btn" id="nitroBtn">
                    <span>ğŸš€</span>
                    <small>Nitro</small>
                </button>
                <button class="action-btn exit-btn" id="exitVehicleBtn" onclick="toggleVehicle()">
                    <span>ğŸš¶</span>
                    <small>Ä°n/Bin</small>
                </button>
            </div>
            
            <div class="throttle-container">
                <button class="throttle-btn forward-btn" id="forwardBtn">
                    <span>â¬†ï¸</span>
                </button>
                <button class="throttle-btn reverse-btn" id="reverseBtn">
                    <span>â¬‡ï¸</span>
                </button>
            </div>
        </div>
    </div>

    <!-- YÃ¼kleme EkranÄ± -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <h2>YÃ¼kleniyor...</h2>
            <div class="loading-bar">
                <div class="loading-progress" id="loadingProgress"></div>
            </div>
            <p id="loadingText">Oyun baÅŸlatÄ±lÄ±yor...</p>
        </div>
    </div>

    <!-- Three.js ve Fizik KÃ¼tÃ¼phaneleri -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/cannon@0.6.2/build/cannon.min.js"></script>
    
    <!-- Oyun ModÃ¼lleri -->
    <script src="js/camera.js"></script>
    <script src="js/carModels.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/player.js"></script>
    <script src="js/map.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/mobileControls.js"></script>
    <script src="js/multiplayer.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/gameManager.js"></script>
    <script src="js/checkpoint.js"></script>
    <script src="js/police.js"></script>
    <script src="js/character.js"></script>
    <script src="js/tuning.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
